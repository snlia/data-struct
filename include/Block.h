#pragma once
#include "common.h"
#include "Node.h"

const static int MAX_SIZE = 50;
const static int MAX_LEN = 505;
const static ll Par [MAX_LEN] = 
{
1206232904, 1210680312, 1211137948, 1211360681, 1211422576, 1211443336, 1211461692, 1211486837, 1211515598, 1211545955, 
1211571555, 1211596331, 1211619802, 1211648729, 1211667631, 1211688949, 1211708526, 1211728795, 1211749000, 1211772671, 
1211797375, 1211815449, 1211832194, 1211849310, 1211864600, 1211878540, 1211891890, 1211905649, 1211918415, 1211932320, 
1211945466, 1211961016, 1211974300, 1211988768, 1212005449, 1212024220, 1212038098, 1212050185, 1212061566, 1212071673, 
1212079589, 1212085473, 1212092044, 1212102149, 1212110251, 1212117651, 1212125530, 1212132781, 1212142455, 1212154143, 
1212164526, 1212174091, 1212182806, 1212191802, 1212201974, 1212211118, 1212220481, 1212230411, 1212241173, 1212251367, 
1212260025, 1212271538, 1212284330, 1212301074, 1212316784, 1212339306, 1212358818, 1212378624, 1212404515, 1212428907, 
1212459045, 1212489956, 1212516549, 1212546028, 1212578112, 1212608805, 1212645419, 1212674170, 1212704634, 1212728005, 
1212763914, 1212794750, 1212818841, 1212835805, 1212852671, 1212872077, 1212890619, 1212910529, 1212933400, 1212952895, 
1212971594, 1212988766, 1213003793, 1213022474, 1213041131, 1213061144, 1213082905, 1213107436, 1213131847, 1213151864, 
1213169316, 1213187026, 1213211815, 1213230678, 1213254253, 1213269523, 1213282706, 1213291335, 1213298921, 1213307014, 
1213322648, 1213342601, 1213360974, 1213378724, 1213393185, 1213402766, 1213416428, 1213432253, 1213445562, 1213463030, 
1213482264, 1213499766, 1213516077, 1213530632, 1213544491, 1213557803, 1213571544, 1213590234, 1213609300, 1213622795, 
1213636117, 1213650174, 1213662023, 1213673517, 1213684672, 1213697049, 1213711918, 1213728084, 1213743854, 1213757323, 
1213771260, 1213785876, 1213800385, 1213816487, 1213832292, 1213848726, 1213865824, 1213884135, 1213900086, 1213912410, 
1213924500, 1213936044, 1213944793, 1213953319, 1213963964, 1213974865, 1213984475, 1213993712, 1214000123, 1214007017, 
1214015034, 1214020769, 1214024708, 1214027877, 1214033059, 1214038447, 1214044618, 1214050738, 1214062946, 1214076574, 
1214086405, 1214096758, 1214105374, 1214113951, 1214123865, 1214133985, 1214147458, 1214159911, 1214171923, 1214183473, 
1214194363, 1214202553, 1214211844, 1214220526, 1214230259, 1214240057, 1214248527, 1214256222, 1214262378, 1214268479, 
1214275114, 1214282196, 1214287925, 1214293956, 1214299717, 1214305562, 1214312144, 1214318527, 1214325589, 1214332840, 
1214340567, 1214348592, 1214356997, 1214365441, 1214373077, 1214379987, 1214386330, 1214393999, 1214401795, 1214410476, 
1214419171, 1214427281, 1214434515, 1214441831, 1214448110, 1214454259, 1214461810, 1214469243, 1214475645, 1214483536, 
1214491862, 1214500466, 1214508403, 1214516222, 1214523969, 1214530719, 1214537607, 1214544421, 1214550494, 1214555764, 
1214560855, 1214566367, 1214572099, 1214577354, 1214582591, 1214587980, 1214594022, 1214599957, 1214605189, 1214611126, 
1214617483, 1214623847, 1214631151, 1214637828, 1214644048, 1214649562, 1214654787, 1214660076, 1214665414, 1214670777, 
1214677120, 1214683799, 1214689782, 1214696062, 1214702129, 1214709095, 1214716372, 1214722107, 1214728949, 1214735825, 
1214741724, 1214747250, 1214753955, 1214762342, 1214769892, 1214777485, 1214784709, 1214792405, 1214799532, 1214806224, 
1214813713, 1214821383, 1214829249, 1214836664, 1214842188, 1214847914, 1214853862, 1214858446, 1214863348, 1214868951, 
1214875476, 1214882059, 1214888977, 1214897382, 1214905445, 1214913058, 1214919420, 1214926207, 1214933263, 1214940518, 
1214947396, 1214953190, 1214958508, 1214963695, 1214968505, 1214973737, 1214979581, 1214985503, 1214992618, 1214998302, 
1215004096, 1215010680, 1215016863, 1215021217, 1215025121, 1215030198, 1215035503, 1215041755, 1215047783, 1215052513, 
1215057539, 1215062704, 1215068635, 1215074517, 1215080076, 1215084777, 1215090574, 1215096309, 1215103410, 1215110127, 
1215116430, 1215122499, 1215130613, 1215140678, 1215148983, 1215156189, 1215164292, 1215173009, 1215181012, 1215189043, 
1215196662, 1215203279, 1215210167, 1215216466, 1215221283, 1215226549, 1215232431, 1215237724, 1215242779, 1215247493, 
1215252301, 1215257660, 1215263593, 1215269242, 1215273909, 1215278085, 1215283039, 1215289794, 1215297122, 1215305003, 
1215312045, 1215319156, 1215326341, 1215333331, 1215341108, 1215351118, 1215363487, 1215376080, 1215385403, 1215394493, 
1215402157, 1215409058, 1215417417, 1215432706, 1215450121, 1215467641, 1215480437, 1215492251, 1215500595, 1215508929, 
1215517347, 1215523998, 1215531017, 1215537725, 1215548371, 1215568731, 1215587302, 1215606470, 1215622625, 1215642545, 
1215658531, 1215671973, 1215682966, 1215692830, 1215701104, 1215707488, 1215712817, 1215717513, 1215722322, 1215727104, 
1215732308, 1215736965, 1215741089, 1215745395, 1215749371, 1215753861, 1215758880, 1215764237, 1215769251, 1215774680, 
1215779658, 1215784600, 1215788904, 1215793416, 1215798001, 1215802248, 1215807673, 1215813665, 1215819057, 1215824376, 
1215831043, 1215838244, 1215845207, 1215853126, 1215861590, 1215870337, 1215878323, 1215887009, 1215894994, 1215902858, 
1215912304, 1215921788, 1215929503, 1215941330, 1215952458, 1215966341, 1215982425, 1215997579, 1216011034, 1216027978, 
1216047623, 1216074341, 1216099308, 1216127027, 1216154126, 1216161344, 1216171379, 1216178954, 1216184751, 1216190516, 
1216200307, 1216210348, 1216219360, 1216239603, 1216267242, 1216289554, 1216315589, 1216338360, 1216357547, 1216375968, 
1216390924, 1216406459, 1216429499, 1216463014, 1216502167, 1216548524, 1216590959, 1216631081, 1216662411, 1216698651, 
1216744547, 1216793307, 1216854349, 1216881231, 1216937488, 1216988664, 1217031720, 1217088572, 1217136398, 1217175777, 
1217203064, 1217234734, 1217287111, 1217344986, 1217397665, 1217465234, 1217510654, 1217541416, 1217570673, 1217602500, 
1217664892, 1217715943, 1217769097, 1217816844, 1217850889, 1217879757, 1217906754, 1217937836, 1217968304, 1217996976, 
1218016996, 1218036935, 1218058937, 1218075196, 1218094408, 1218118717, 1218171726, 1218246123, 1218359969, 1218466803, 
1218579014, 1218674740, 1218806809, 1218898598, 1219139751
};

class Block
{
    public :
    Block *next;
    static bool cmp (ll Id_a, ll Id_b);
    std :: vector <ll> adj;
    ll lx, rx;
    void push (ll Id);
    ll check (double , double );
    void load (ll, ll, ll, ll);
    Block () {}
};

extern Block T [MAX_LEN];
extern Block T2 [MAX_LEN];

namespace blk
{
    extern double Lat_, Lon_;
    extern std::vector <ll> Ans;
    ll ck_block (int , double , double );
    bool cmp (ll, ll);
    void insert (ll );
    void search (double, double, double, double);
    void fiter (std::string S);
    void list ();
    void near (int , double, double);
    ll find (double, double);
}
